import numpy as np  # Импорт библиотеки для работы с массивами и математическими операциями
import matplotlib.pyplot as plt  # Импорт библиотеки для построения графиков
from scipy.io import wavfile  # Импорт функции для чтения WAV файлов из библиотеки SciPy

# Чтение WAV файла: функция возвращает частоту дискретизации и аудиосигнал
sampling_freq, signal = wavfile.read('random_sound.wav')

# Вывод информации о загруженном аудиосигнале
print('\nФорма сигнала:', signal.shape)  # Размерность массива (количество отсчетов, количество каналов)
print('Тип данных:', signal.dtype)  # Тип данных массива (обычно int16 для 16-битного аудио)
print('Продолжительность сигнала:', round(signal.shape[0] / float(sampling_freq), 2), 'в секундах')
# Вычисление продолжительности: количество отсчетов / частоту дискретизации

# Нормализация сигнала: приведение значений к диапазону [-1, 1] для 16-битного аудио
# 2^15 = 32768 (максимальное значение для 16-битного знакового целого)
signal = signal / np.power(2, 15)

# Ограничение сигнала первыми 50 отсчетами для визуализации небольшого фрагмента
signal = signal[:50]

# Создание временной оси в миллисекундах для построения графика
# np.arange(0, len(signal), 1) создает массив индексов от 0 до 49
# Каждый индекс умножается на 1000/частоту дискретизации для перевода в миллисекунды
time_axis = 1000 * np.arange(0, len(signal), 1) / float(sampling_freq)

# Построение графика аудиосигнала
plt.plot(time_axis, signal, color='black')  # Черный график амплитуды сигнала
plt.xlabel('Время (милисекунды)')  # Подпись оси X
plt.ylabel('Амплитуда')  # Подпись оси Y
plt.title('Входной аудио сигнал')  # Заголовок графика
plt.show()  # Отображение графика